
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.7">
    
    
      
        <title>fmsignal_vis - FMKit</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#fmsignal-module" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="FMKit" class="md-header-nav__button md-logo" aria-label="FMKit">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            FMKit
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              fmsignal_vis
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="FMKit" class="md-nav__button md-logo" aria-label="FMKit">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    FMKit
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../arch/" class="md-nav__link">
        The FMKit Architecture
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../manual_signal/" class="md-nav__link">
        User Manual - Signal
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
      
      <label class="md-nav__link" for="nav-4">
        Code Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Code Reference" data-md-level="1">
        <label class="md-nav__title" for="nav-4">
          <span class="md-nav__icon md-icon"></span>
          Code Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../fmsignal-reference/" class="md-nav__link">
        fmsignal
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          fmsignal_vis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        fmsignal_vis
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis" class="md-nav__link">
    fmsignal_vis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.alignment_vis" class="md-nav__link">
    alignment_vis()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.orientation_animation" class="md-nav__link">
    orientation_animation()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.plot_handgeo" class="md-nav__link">
    plot_handgeo()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.plot_xyz_axes" class="md-nav__link">
    plot_xyz_axes()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.signal_vis" class="md-nav__link">
    signal_vis()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.signal_vis_compact" class="md-nav__link">
    signal_vis_compact()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.signal_vis_comparison" class="md-nav__link">
    signal_vis_comparison()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.signal_vis_comparison_side_by_side" class="md-nav__link">
    signal_vis_comparison_side_by_side()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.trajectorie_vis_comparison" class="md-nav__link">
    trajectorie_vis_comparison()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.trajectory_animation" class="md-nav__link">
    trajectory_animation()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.trajectory_vis" class="md-nav__link">
    trajectory_vis()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../pyrotation-reference/" class="md-nav__link">
        pyrotation
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis" class="md-nav__link">
    fmsignal_vis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.alignment_vis" class="md-nav__link">
    alignment_vis()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.orientation_animation" class="md-nav__link">
    orientation_animation()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.plot_handgeo" class="md-nav__link">
    plot_handgeo()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.plot_xyz_axes" class="md-nav__link">
    plot_xyz_axes()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.signal_vis" class="md-nav__link">
    signal_vis()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.signal_vis_compact" class="md-nav__link">
    signal_vis_compact()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.signal_vis_comparison" class="md-nav__link">
    signal_vis_comparison()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.signal_vis_comparison_side_by_side" class="md-nav__link">
    signal_vis_comparison_side_by_side()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.trajectorie_vis_comparison" class="md-nav__link">
    trajectorie_vis_comparison()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.trajectory_animation" class="md-nav__link">
    trajectory_animation()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fmsignal_vis.trajectory_vis" class="md-nav__link">
    trajectory_vis()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="fmsignal-module">fmsignal module</h1>
<div class="doc doc-object doc-module">
<h2 class="hidden-toc" id="fmsignal_vis" style="visibility: hidden; position: absolute;">
        </h2>
<div class="doc doc-contents first">
<p>This module contains the visuzlaization code of the fmkit framework, which is 
designed to facilitate researches on in-air-handwriting related research.</p>
<p>Author: Duo Lu &lt;<a href="mailto:duolu.cs@gmail.com">duolu.cs@gmail.com</a>&gt;</p>
<p>Version: 0.1
License: MIT</p>
<p>Updated on Feb. 7, 2020, version 0.1</p>
<p>Created on Aug 14, 2017, draft  </p>
<p>The MIT License</p>
<p>Copyright 2017-2021 Duo Lu &lt;<a href="mailto:duolu.cs@gmail.com">duolu.cs@gmail.com</a>&gt;</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of 
this software and associated documentation files (the "Software"), to deal in 
the Software without restriction, including without limitation the rights to 
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies 
of the Software, and to permit persons to whom the Software is furnished to do 
so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all 
copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR 
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, 
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE 
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER 
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE 
SOFTWARE.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="fmsignal_vis.alignment_vis">

<code class="highlight language-python"><span class="n">alignment_vis</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">template</span><span class="p">,</span> <span class="n">aligned_signal</span><span class="p">,</span> <span class="n">plot_3d</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Visualize the warping path and DTW distance matrix of an aligned signal.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signal</code></td>
<td><code>FMSignal</code></td>
<td>
<p>The signal that is aligned to the template.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>template</code></td>
<td><code>FMSignal</code></td>
<td>
<p>The template.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>aligned_signal</code></td>
<td><code>FMSignal</code></td>
<td>
<p>The aligned signal.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>plot_3d</code></td>
<td><code>bool</code></td>
<td>
<p>Indicating whether the plot is in 3D or in 2D.</p>
</td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>col</code></td>
<td><code>int</code></td>
<td>
<p>Indicating the sensor axis to be plotted.</p>
</td>
<td><code>0</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>None</code></td>
<td>
<p>No return value.</p>
</td>
</tr>
</tbody>
</table>
<p><strong>NOTE</strong>: The "aligned_signal" must have the "dist_matrix" attribute and the
two attributes for the warping path (i.e., "a2to1_start" and "a2to1_end").
This means when the "aligned_signal" is generated by calling the 
"align_to()", the "keep_dist_matrix" parameter must be set to "True".</p>
<details class="quote">
          <summary>Source code in <code>code_fmkit/fmsignal_vis.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">alignment_vis</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">template</span><span class="p">,</span> <span class="n">aligned_signal</span><span class="p">,</span> <span class="n">plot_3d</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">'''Visualize the warping path and DTW distance matrix of an aligned signal.</span>

<span class="sd">    Args:</span>

<span class="sd">        signal (FMSignal): The signal that is aligned to the template.</span>
<span class="sd">        template (FMSignal): The template.</span>
<span class="sd">        aligned_signal (FMSignal): The aligned signal.</span>
<span class="sd">        plot_3d (bool): Indicating whether the plot is in 3D or in 2D.</span>
<span class="sd">        col (int): Indicating the sensor axis to be plotted.</span>

<span class="sd">    Returns:</span>

<span class="sd">        None: No return value.</span>

<span class="sd">    **NOTE**: The "aligned_signal" must have the "dist_matrix" attribute and the</span>
<span class="sd">    two attributes for the warping path (i.e., "a2to1_start" and "a2to1_end").</span>
<span class="sd">    This means when the "aligned_signal" is generated by calling the </span>
<span class="sd">    "align_to()", the "keep_dist_matrix" parameter must be set to "True".</span>

<span class="sd">    '''</span>

    <span class="c1"># NOTE: Make a copy of "dist_matrix" in case we want to modify it.</span>
    <span class="n">dist_matrix</span> <span class="o">=</span> <span class="n">aligned_signal</span><span class="o">.</span><span class="n">dist_matrix</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">a2to1_start</span> <span class="o">=</span> <span class="n">aligned_signal</span><span class="o">.</span><span class="n">a2to1_start</span>
    <span class="n">a2to1_end</span> <span class="o">=</span> <span class="n">aligned_signal</span><span class="o">.</span><span class="n">a2to1_end</span>

    <span class="c1"># Normalize dists_matrix to [0, 1] manually</span>
    <span class="n">dmin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amin</span><span class="p">(</span><span class="n">dist_matrix</span><span class="p">)</span>
    <span class="n">dmax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">dist_matrix</span><span class="p">)</span>

    <span class="n">delta</span> <span class="o">=</span> <span class="n">dmax</span> <span class="o">-</span> <span class="n">dmin</span>

    <span class="n">dist_matrix</span> <span class="o">=</span> <span class="p">(</span><span class="n">dist_matrix</span> <span class="o">-</span> <span class="n">dmin</span><span class="p">)</span> <span class="o">/</span> <span class="n">delta</span>

    <span class="c1"># n is the length of the template.</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">dist_matrix</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1"># m is the length of the signal.</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">dist_matrix</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">plot_3d</span><span class="p">:</span>

        <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">'3d'</span><span class="p">)</span>


        <span class="n">xs</span><span class="p">,</span> <span class="n">ys</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">m</span><span class="p">))</span>

        <span class="n">zs</span> <span class="o">=</span> <span class="n">dist_matrix</span><span class="o">.</span><span class="n">T</span>

        <span class="n">surf</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot_surface</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">,</span> <span class="n">zs</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="o">.</span><span class="n">coolwarm</span><span class="p">,</span>
                        <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">antialiased</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'template'</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'signal'</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s1">'distance'</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>

        <span class="c1"># Mark the warping path.</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a2to1_start</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">a2to1_start</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">a2to1_end</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">dist_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

        <span class="n">ax_s</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
        <span class="n">ax_t</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>

        <span class="n">s_col</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="n">col</span><span class="p">]</span>
        <span class="n">t_col</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="n">col</span><span class="p">]</span>

        <span class="n">dmax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">s_col</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">t_col</span><span class="p">))</span>
        <span class="n">dmin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">s_col</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">t_col</span><span class="p">))</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">dmax</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">dmin</span><span class="p">))</span> <span class="o">*</span> <span class="mf">1.2</span>

        <span class="n">ax_s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">s_col</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">))</span>
        <span class="n">ax_t</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">t_col</span><span class="p">)</span>

        <span class="n">ax_s</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="n">dist</span><span class="p">,</span> <span class="n">dist</span><span class="p">)</span>
        <span class="n">ax_s</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
        <span class="n">ax_t</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="n">dist</span><span class="p">,</span> <span class="n">dist</span><span class="p">)</span>
        <span class="n">ax_t</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'top'</span><span class="p">,</span><span class="s1">'bottom'</span><span class="p">,</span><span class="s1">'left'</span><span class="p">,</span><span class="s1">'right'</span><span class="p">]:</span>
            <span class="n">ax_s</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax_s</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="n">col</span> <span class="o">//</span> <span class="mi">3</span><span class="p">])</span>

            <span class="n">ax_t</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax_t</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="n">col</span> <span class="o">//</span> <span class="mi">3</span><span class="p">])</span>

        <span class="n">major_ticks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
        <span class="n">ax_s</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">major_ticks</span><span class="p">)</span>
        <span class="n">major_ticks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
        <span class="n">ax_t</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">major_ticks</span><span class="p">)</span>

        <span class="n">ax_s</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ax_t</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">dist_matrix</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">'lower'</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">'auto'</span><span class="p">)</span>

        <span class="n">ax_s</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'signal'</span><span class="p">)</span>
        <span class="n">ax_t</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'template'</span><span class="p">)</span>


    <span class="c1">#major_ticks = np.arange(0, 60, 20)</span>
    <span class="c1">#ax.set_xticks(major_ticks)</span>
    <span class="c1">#ax.set_xticklabels([0, 1, 2, 5])</span>
    <span class="c1">#ax.set_aspect('equal')</span>
    <span class="c1">#ax.set_xticks([0, 5])</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="fmsignal_vis.orientation_animation">

<code class="highlight language-python"><span class="n">orientation_animation</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">seg_length</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Animate the orientation of the tracked point.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signal</code></td>
<td><code>FMSignal</code></td>
<td>
<p>The signal to be visualized.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>speed</code></td>
<td><code>float</code></td>
<td>
<p>Indicating the animation speed. "speed=1" is 1x.</p>
</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>seg_length</code></td>
<td><code>int</code></td>
<td>
<p>The animated segment length in number of samples.</p>
</td>
<td><code>-1</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>None</code></td>
<td>
<p>No return value.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>code_fmkit/fmsignal_vis.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">orientation_animation</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">seg_length</span><span class="o">=-</span><span class="mi">1</span><span class="p">):</span><br />
<span class="sd">'''Animate the orientation of the tracked point.</span>

<span class="sd">    Args:</span>

<span class="sd">        signal (FMSignal): The signal to be visualized.</span>
<span class="sd">        speed (float): Indicating the animation speed. "speed=1" is 1x.</span>
<span class="sd">        seg_length (int): The animated segment length in number of samples.</span>

<span class="sd">    Returns:</span>

<span class="sd">        None: No return value.</span>

<span class="sd">    '''</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignal</span><span class="p">)</span> <span class="p">:</span>
        <span class="n">rotms</span><span class="p">,</span> <span class="n">_qs</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">get_orientation</span><span class="p">()</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignalLeap</span><span class="p">)</span> \
        <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignalGlove</span><span class="p">):</span>
        <span class="n">rotms</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">rotms</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">'Wong signal: </span><span class="si">%s</span><span class="s1">.'</span> <span class="o">%</span> <span class="n">signal</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

    <span class="n">matplotlib</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">'3d'</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="n">elev</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">azim</span><span class="o">=</span><span class="mi">160</span><span class="p">)</span>

    <span class="n">l</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span>

    <span class="n">scale</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">lim</span> <span class="o">=</span> <span class="n">scale</span> <span class="o">*</span> <span class="mf">1.2</span>

    <span class="n">xv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">((</span><span class="n">scale</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">points_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">l</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>

        <span class="n">R</span> <span class="o">=</span> <span class="n">rotms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">xv_R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">xv</span><span class="p">)</span>
        <span class="n">points_x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">xv_R</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>

    <span class="n">ox</span> <span class="o">=</span> <span class="n">points_x</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">oy</span> <span class="o">=</span> <span class="n">points_x</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">oz</span> <span class="o">=</span> <span class="n">points_x</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>

        <span class="c1"># speed up by subsampling</span>
        <span class="k">if</span> <span class="n">speed</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">%</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">speed</span><span class="p">))</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">seg_length</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="n">seg_length</span>
            <span class="k">if</span> <span class="n">s</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ox</span><span class="p">[</span><span class="n">s</span><span class="p">:</span><span class="n">i</span><span class="p">],</span> <span class="n">oy</span><span class="p">[</span><span class="n">s</span><span class="p">:</span><span class="n">i</span><span class="p">],</span> <span class="n">oz</span><span class="p">[</span><span class="n">s</span><span class="p">:</span><span class="n">i</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'k'</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

        <span class="n">R</span> <span class="o">=</span> <span class="n">rotms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">plot_xyz_axes</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_zlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'X'</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'Y'</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s1">'Z'</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">pause</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">pause</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">speed</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">pause</span><span class="p">(</span><span class="mf">0.02</span> <span class="o">/</span> <span class="n">speed</span><span class="p">)</span>

    <span class="n">matplotlib</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ox</span><span class="p">,</span> <span class="n">oy</span><span class="p">,</span> <span class="n">oz</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'k'</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_zlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'X'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'Y'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s1">'Z'</span><span class="p">)</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="fmsignal_vis.plot_handgeo">

<code class="highlight language-python"><span class="n">plot_handgeo</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">signal</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Plot the skeleton shape of the hand.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signal</code></td>
<td><code>FMSignalLeap</code></td>
<td>
<p>The raw signal containing the "joints".</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>i</code></td>
<td><code>int</code></td>
<td></td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>None</code></td>
<td>
<p>No return value.</p>
</td>
</tr>
</tbody>
</table>
<p><strong>NOTE</strong>: This is designed for internal usage only.</p>
<details class="quote">
          <summary>Source code in <code>code_fmkit/fmsignal_vis.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">plot_handgeo</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">signal</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
    <span class="sd">'''Plot the skeleton shape of the hand.</span>

<span class="sd">    Args:</span>

<span class="sd">        signal (FMSignalLeap): The raw signal containing the "joints".</span>
<span class="sd">        i (int): </span>

<span class="sd">    Returns:</span>

<span class="sd">        None: No return value.</span>

<span class="sd">    **NOTE**: This is designed for internal usage only.</span>

<span class="sd">    '''</span>

    <span class="n">joints</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">joints</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>


    <span class="n">x1</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">y1</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">z1</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Set up hand skeleton points.</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">x1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">joints</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">y1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">joints</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">z1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">joints</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">x1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">joints</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">y1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">joints</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">z1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">joints</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'b'</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="fmsignal_vis.plot_xyz_axes">

<code class="highlight language-python"><span class="n">plot_xyz_axes</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Plot three line segments representing the x-y-z axes.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ax</code></td>
<td><code>Axes in matplotlib</code></td>
<td>
<p>The axes object to plot.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>R</code></td>
<td><code>3-by-3 ndarray</code></td>
<td>
<p>The rotation matrix (local to world).</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>t</code></td>
<td><code>3-by-1 ndarray</code></td>
<td>
<p>The translation vector (local to world).</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>scale</code></td>
<td><code>float</code></td>
<td>
<p>The length of the line segment. </p>
</td>
<td><code>1</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>None</code></td>
<td>
<p>No return value.</p>
</td>
</tr>
</tbody>
</table>
<p><strong>NOTE</strong>: This is designed for internal usage only.</p>
<details class="quote">
          <summary>Source code in <code>code_fmkit/fmsignal_vis.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">plot_xyz_axes</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">'''Plot three line segments representing the x-y-z axes.</span>

<span class="sd">    Args:</span>

<span class="sd">        ax (Axes in matplotlib): The axes object to plot.</span>
<span class="sd">        R (3-by-3 ndarray): The rotation matrix (local to world).</span>
<span class="sd">        t (3-by-1 ndarray): The translation vector (local to world).</span>
<span class="sd">        scale (float): The length of the line segment. </span>

<span class="sd">    Returns:</span>

<span class="sd">        None: No return value.</span>

<span class="sd">    **NOTE**: This is designed for internal usage only.</span>

<span class="sd">    '''</span>

    <span class="n">x_axis_local</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">scale</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span><span class="o">.</span><span class="n">T</span>
    <span class="n">x_axis</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">x_axis_local</span><span class="p">)</span> <span class="o">+</span> <span class="n">t</span>

    <span class="n">y_axis_local</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span><span class="o">.</span><span class="n">T</span>
    <span class="n">y_axis</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">y_axis_local</span><span class="p">)</span> <span class="o">+</span> <span class="n">t</span>

    <span class="n">z_axis_local</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="p">]])</span><span class="o">.</span><span class="n">T</span>
    <span class="n">z_axis</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">z_axis_local</span><span class="p">)</span> <span class="o">+</span> <span class="n">t</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_axis</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:],</span> <span class="n">x_axis</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:],</span> <span class="n">x_axis</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">:],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'r'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_axis</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:],</span> <span class="n">y_axis</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:],</span> <span class="n">y_axis</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">:],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'g'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">z_axis</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:],</span> <span class="n">z_axis</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:],</span> <span class="n">z_axis</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">:],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'b'</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="fmsignal_vis.signal_vis">

<code class="highlight language-python"><span class="n">signal_vis</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">start_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nr_cols</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">normalized</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Visualize a preprocessed signal by plotting the specified columns.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signal</code></td>
<td><code>FMSignal</code></td>
<td>
<p>The signal to be visualized.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>start_col</code></td>
<td><code>int</code></td>
<td>
<p>The start index of the sensor axes on the plot.</p>
</td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>nr_cols</code></td>
<td><code>int</code></td>
<td>
<p>The number of sensor axes on the plot.</p>
</td>
<td><code>18</code></td>
</tr>
<tr>
<td><code>normalized</code></td>
<td><code>bool</code></td>
<td>
<p>Indicating whether the amplitude of the signal is
               normalized or not. </p>
</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>None</code></td>
<td>
<p>No return value.</p>
</td>
</tr>
</tbody>
</table>
<p><strong>NOTE</strong>: Both "nr_cols" and "start_col" must be a multiple of 3.</p>
<details class="quote">
          <summary>Source code in <code>code_fmkit/fmsignal_vis.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">signal_vis</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">start_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nr_cols</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">normalized</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">'''Visualize a preprocessed signal by plotting the specified columns.</span>

<span class="sd">    Args:</span>

<span class="sd">        signal (FMSignal): The signal to be visualized.</span>
<span class="sd">        start_col (int): The start index of the sensor axes on the plot.</span>
<span class="sd">        nr_cols (int): The number of sensor axes on the plot.</span>
<span class="sd">        normalized (bool): Indicating whether the amplitude of the signal is</span>
<span class="sd">                           normalized or not. </span>

<span class="sd">    Returns:</span>

<span class="sd">        None: No return value.</span>

<span class="sd">    **NOTE**: Both "nr_cols" and "start_col" must be a multiple of 3.</span>

<span class="sd">    '''</span>

    <span class="n">d</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">dim</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignal</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">nr_cols</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">start_col</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="k">assert</span> <span class="n">start_col</span> <span class="o">&lt;</span> <span class="n">d</span> <span class="ow">and</span> <span class="n">start_col</span> <span class="o">+</span> <span class="n">nr_cols</span> <span class="o">&lt;=</span> <span class="n">d</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">l</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span>

    <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">start_col</span><span class="p">,</span> <span class="n">start_col</span> <span class="o">+</span> <span class="n">nr_cols</span><span class="p">)):</span>

        <span class="n">data_column</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span>

        <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">nr_cols</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ii</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data_column</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'k'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">normalized</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ymax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">data_column</span><span class="p">)</span>
            <span class="n">ymin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">data_column</span><span class="p">)</span>
            <span class="n">dist</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ymin</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ymax</span><span class="p">))</span>
            <span class="n">ylim_max</span> <span class="o">=</span> <span class="n">dist</span> <span class="o">*</span> <span class="mf">1.2</span>
            <span class="n">ylim_min</span> <span class="o">=</span> <span class="o">-</span><span class="n">dist</span> <span class="o">*</span> <span class="mf">1.2</span>

            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">ylim_min</span><span class="p">,</span> <span class="n">ylim_max</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'top'</span><span class="p">,</span><span class="s1">'bottom'</span><span class="p">,</span><span class="s1">'left'</span><span class="p">,</span><span class="s1">'right'</span><span class="p">]:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="n">i</span> <span class="o">//</span> <span class="mi">3</span><span class="p">])</span>

        <span class="n">major_ticks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">major_ticks</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

        <span class="c1">#ax.tick_params(colors='w')</span>

        <span class="n">axes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>


    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="fmsignal_vis.signal_vis_compact">

<code class="highlight language-python"><span class="n">signal_vis_compact</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">normalized</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Visualize a signal by plotting three columns together.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signal</code></td>
<td><code>FMSignal</code></td>
<td>
<p>The signal to be visualized.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>normalized</code></td>
<td><code>bool</code></td>
<td>
<p>Indicating whether the amplitude of the signal is
               normalized or not. </p>
</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>None</code></td>
<td>
<p>No return value.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>code_fmkit/fmsignal_vis.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">signal_vis_compact</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">normalized</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">'''Visualize a signal by plotting three columns together.</span>

<span class="sd">    Args:</span>

<span class="sd">        signal (FMSignal): The signal to be visualized.</span>
<span class="sd">        normalized (bool): Indicating whether the amplitude of the signal is</span>
<span class="sd">                           normalized or not. </span>

<span class="sd">    Returns:</span>

<span class="sd">        None: No return value.</span>

<span class="sd">    '''</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignal</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">l</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">dim</span>

    <span class="n">n</span> <span class="o">=</span> <span class="n">d</span> <span class="o">//</span> <span class="mi">3</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>

        <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">data_x</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">data_y</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">data_z</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data_x</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">'r'</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data_y</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">'g'</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data_z</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">'b'</span><span class="p">)</span>

        <span class="n">data_x_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">data_x</span><span class="p">)</span>
        <span class="n">data_x_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">data_x</span><span class="p">)</span>
        <span class="n">data_y_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">data_y</span><span class="p">)</span>
        <span class="n">data_y_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">data_y</span><span class="p">)</span>
        <span class="n">data_z_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">data_z</span><span class="p">)</span>
        <span class="n">data_z_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">data_z</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">normalized</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ymax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">data_x_max</span><span class="p">,</span> <span class="n">data_y_max</span><span class="p">,</span> <span class="n">data_z_max</span><span class="p">)</span>
            <span class="n">ymin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">data_x_min</span><span class="p">,</span> <span class="n">data_y_min</span><span class="p">,</span> <span class="n">data_z_min</span><span class="p">)</span>
            <span class="n">dist</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ymin</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ymax</span><span class="p">))</span>
            <span class="n">ylim_max</span> <span class="o">=</span> <span class="n">dist</span> <span class="o">*</span> <span class="mf">1.2</span>
            <span class="n">ylim_min</span> <span class="o">=</span> <span class="o">-</span><span class="n">dist</span> <span class="o">*</span> <span class="mf">1.2</span>

            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">ylim_min</span><span class="p">,</span> <span class="n">ylim_max</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'top'</span><span class="p">,</span><span class="s1">'bottom'</span><span class="p">,</span><span class="s1">'left'</span><span class="p">,</span><span class="s1">'right'</span><span class="p">]:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="c1">#ax.get_xaxis().set_visible(False)</span>
        <span class="c1">#ax.get_yaxis().set_visible(False)</span>

        <span class="n">major_ticks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">major_ticks</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

        <span class="c1">#ax.tick_params(color='w')</span>


        <span class="n">axes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>


    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="fmsignal_vis.signal_vis_comparison">

<code class="highlight language-python"><span class="n">signal_vis_comparison</span><span class="p">(</span><span class="n">signals</span><span class="p">,</span> <span class="n">start_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nr_cols</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">normalized</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Visualize multiple signals on the same plot.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signals</code></td>
<td><code>FMSignal</code></td>
<td>
<p>The signals to be visualized.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>start_col</code></td>
<td><code>int</code></td>
<td>
<p>The start index of the sensor axes on the plot.</p>
</td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>nr_cols</code></td>
<td><code>int</code></td>
<td>
<p>The number of sensor axes on the plot.</p>
</td>
<td><code>18</code></td>
</tr>
<tr>
<td><code>normalized</code></td>
<td><code>bool</code></td>
<td>
<p>Indicating whether the amplitudes of all signals are
               normalized or not. </p>
</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>None</code></td>
<td>
<p>No return value.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>code_fmkit/fmsignal_vis.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">signal_vis_comparison</span><span class="p">(</span><span class="n">signals</span><span class="p">,</span> <span class="n">start_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nr_cols</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">normalized</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">'''Visualize multiple signals on the same plot.</span>

<span class="sd">    Args:</span>

<span class="sd">        signals (FMSignal): The signals to be visualized.</span>
<span class="sd">        start_col (int): The start index of the sensor axes on the plot.</span>
<span class="sd">        nr_cols (int): The number of sensor axes on the plot.</span>
<span class="sd">        normalized (bool): Indicating whether the amplitudes of all signals are</span>
<span class="sd">                           normalized or not. </span>

<span class="sd">    Returns:</span>

<span class="sd">        None: No return value.</span>

<span class="sd">    '''</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">signals</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">signal</span> <span class="ow">in</span> <span class="n">signals</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignal</span><span class="p">)</span>


    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">lmax</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1e6</span>
    <span class="k">for</span> <span class="n">signal</span> <span class="ow">in</span> <span class="n">signals</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="n">lmax</span><span class="p">:</span>
            <span class="n">lmax</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span>

    <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">start_col</span><span class="p">,</span> <span class="n">start_col</span> <span class="o">+</span> <span class="n">nr_cols</span><span class="p">)):</span>

        <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">nr_cols</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ii</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">ymax</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1e6</span>
        <span class="n">ymin</span> <span class="o">=</span> <span class="mf">1e6</span>

        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">signal</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">signals</span><span class="p">):</span>

                <span class="n">data_column</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span>

                <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data_column</span><span class="p">)</span>

                <span class="n">data_column_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">data_column</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">data_column_max</span> <span class="o">&gt;</span> <span class="n">ymax</span><span class="p">:</span>
                    <span class="n">ymax</span> <span class="o">=</span> <span class="n">data_column_max</span>
                <span class="n">data_column_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">data_column</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">data_column_min</span> <span class="o">&lt;</span> <span class="n">ymin</span><span class="p">:</span>
                    <span class="n">ymin</span> <span class="o">=</span> <span class="n">data_column_min</span>

        <span class="k">if</span> <span class="n">normalized</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dist</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ymin</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ymax</span><span class="p">))</span>
            <span class="n">ylim_max</span> <span class="o">=</span> <span class="n">dist</span> <span class="o">*</span> <span class="mf">1.2</span>
            <span class="n">ylim_min</span> <span class="o">=</span> <span class="o">-</span><span class="n">dist</span> <span class="o">*</span> <span class="mf">1.2</span>

            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">ylim_min</span><span class="p">,</span> <span class="n">ylim_max</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">lmax</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'top'</span><span class="p">,</span><span class="s1">'bottom'</span><span class="p">,</span><span class="s1">'left'</span><span class="p">,</span><span class="s1">'right'</span><span class="p">]:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="n">i</span> <span class="o">//</span> <span class="mi">3</span><span class="p">])</span>

        <span class="n">major_ticks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">lmax</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">major_ticks</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">axes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>


    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="fmsignal_vis.signal_vis_comparison_side_by_side">

<code class="highlight language-python"><span class="n">signal_vis_comparison_side_by_side</span><span class="p">(</span><span class="n">signals_0</span><span class="p">,</span> <span class="n">signals_1</span><span class="p">,</span> <span class="n">start_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nr_cols</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">normalized</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Visualize multiple signals on the same plot.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signals_0</code></td>
<td><code>FMSignal</code></td>
<td>
<p>The first set of signals to be visualized.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>signals_1</code></td>
<td><code>FMSignal</code></td>
<td>
<p>The second set of signals to be visualized.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>start_col</code></td>
<td><code>int</code></td>
<td>
<p>The start index of the sensor axes on the plot.</p>
</td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>nr_cols</code></td>
<td><code>int</code></td>
<td>
<p>The number of sensor axes on the plot.</p>
</td>
<td><code>18</code></td>
</tr>
<tr>
<td><code>normalized</code></td>
<td><code>bool</code></td>
<td>
<p>Indicating whether the amplitudes of all signals are
               normalized or not. </p>
</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>None</code></td>
<td>
<p>No return value.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>code_fmkit/fmsignal_vis.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">signal_vis_comparison_side_by_side</span><span class="p">(</span><span class="n">signals_0</span><span class="p">,</span> <span class="n">signals_1</span><span class="p">,</span> 
        <span class="n">start_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nr_cols</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">normalized</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">'''Visualize multiple signals on the same plot.</span>

<span class="sd">    Args:</span>

<span class="sd">        signals_0 (FMSignal): The first set of signals to be visualized.</span>
<span class="sd">        signals_1 (FMSignal): The second set of signals to be visualized.</span>
<span class="sd">        start_col (int): The start index of the sensor axes on the plot.</span>
<span class="sd">        nr_cols (int): The number of sensor axes on the plot.</span>
<span class="sd">        normalized (bool): Indicating whether the amplitudes of all signals are</span>
<span class="sd">                           normalized or not. </span>

<span class="sd">    Returns:</span>

<span class="sd">        None: No return value.</span>

<span class="sd">    '''</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">signals_0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">signals_1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">signal</span> <span class="ow">in</span> <span class="n">signals_0</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignal</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">signal</span> <span class="ow">in</span> <span class="n">signals_1</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignal</span><span class="p">)</span>


    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">axes_left</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">axes_right</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">lmax</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1e6</span>
    <span class="k">for</span> <span class="n">signal</span> <span class="ow">in</span> <span class="n">signals_0</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="n">lmax</span><span class="p">:</span>
            <span class="n">lmax</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span>
    <span class="k">for</span> <span class="n">signal</span> <span class="ow">in</span> <span class="n">signals_1</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="n">lmax</span><span class="p">:</span>
            <span class="n">lmax</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span>

    <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">start_col</span><span class="p">,</span> <span class="n">start_col</span> <span class="o">+</span> <span class="n">nr_cols</span><span class="p">)):</span>

        <span class="n">ax_left</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">nr_cols</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">ii</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">ax_right</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">nr_cols</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">ii</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>

        <span class="n">ymax</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1e6</span>
        <span class="n">ymin</span> <span class="o">=</span> <span class="mf">1e6</span>

        <span class="k">for</span> <span class="n">signal_0</span> <span class="ow">in</span> <span class="n">signals_0</span><span class="p">:</span>

            <span class="n">d0</span> <span class="o">=</span> <span class="n">signal_0</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span>
            <span class="n">ax_left</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">d0</span><span class="p">)</span>

            <span class="n">d_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">d0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">d_max</span> <span class="o">&gt;</span> <span class="n">ymax</span><span class="p">:</span>
                <span class="n">ymax</span> <span class="o">=</span> <span class="n">d_max</span>
            <span class="n">d_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">d0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">d_min</span> <span class="o">&lt;</span> <span class="n">ymin</span><span class="p">:</span>
                <span class="n">ymin</span> <span class="o">=</span> <span class="n">d_min</span>

        <span class="k">for</span> <span class="n">signal_1</span> <span class="ow">in</span> <span class="n">signals_1</span><span class="p">:</span>

            <span class="n">d1</span> <span class="o">=</span> <span class="n">signal_1</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span>
            <span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">d1</span><span class="p">)</span>

            <span class="n">d_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">d1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">d_max</span> <span class="o">&gt;</span> <span class="n">ymax</span><span class="p">:</span>
                <span class="n">ymax</span> <span class="o">=</span> <span class="n">d_max</span>
            <span class="n">d_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">d1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">d_min</span> <span class="o">&lt;</span> <span class="n">ymin</span><span class="p">:</span>
                <span class="n">ymin</span> <span class="o">=</span> <span class="n">d_min</span>


        <span class="k">if</span> <span class="n">normalized</span><span class="p">:</span>
            <span class="n">ax_left</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">)</span>
            <span class="n">ax_right</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dist</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ymin</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ymax</span><span class="p">))</span>
            <span class="n">ylim_max</span> <span class="o">=</span> <span class="n">dist</span> <span class="o">*</span> <span class="mf">1.2</span>
            <span class="n">ylim_min</span> <span class="o">=</span> <span class="o">-</span><span class="n">dist</span> <span class="o">*</span> <span class="mf">1.2</span>

            <span class="n">ax_left</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">ylim_min</span><span class="p">,</span> <span class="n">ylim_max</span><span class="p">)</span>
            <span class="n">ax_right</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">ylim_min</span><span class="p">,</span> <span class="n">ylim_max</span><span class="p">)</span>

        <span class="n">ax_left</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">lmax</span><span class="p">)</span>
        <span class="n">ax_right</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">lmax</span><span class="p">)</span>


        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'top'</span><span class="p">,</span><span class="s1">'bottom'</span><span class="p">,</span><span class="s1">'left'</span><span class="p">,</span><span class="s1">'right'</span><span class="p">]:</span>
            <span class="n">ax_left</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax_left</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="n">i</span> <span class="o">//</span> <span class="mi">3</span><span class="p">])</span>
            <span class="n">ax_right</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax_right</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="n">i</span> <span class="o">//</span> <span class="mi">3</span><span class="p">])</span>

        <span class="n">major_ticks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">lmax</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
        <span class="n">ax_left</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">major_ticks</span><span class="p">)</span>
        <span class="n">ax_right</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">major_ticks</span><span class="p">)</span>
        <span class="n">ax_left</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ax_right</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

        <span class="n">axes_left</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ax_left</span><span class="p">)</span>
        <span class="n">axes_right</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ax_right</span><span class="p">)</span>


    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="fmsignal_vis.trajectorie_vis_comparison">

<code class="highlight language-python"><span class="n">trajectorie_vis_comparison</span><span class="p">(</span><span class="n">signals</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Visualize multiple trajectories in the same plot.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signals</code></td>
<td><code>list</code></td>
<td>
<p>The list of signals to visualize.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>None</code></td>
<td>
<p>No return value.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>code_fmkit/fmsignal_vis.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">trajectorie_vis_comparison</span><span class="p">(</span><span class="n">signals</span><span class="p">):</span>
    <span class="sd">'''Visualize multiple trajectories in the same plot.</span>

<span class="sd">    Args:</span>

<span class="sd">        signals (list): The list of signals to visualize.</span>

<span class="sd">    Returns:</span>

<span class="sd">        None: No return value.</span>

<span class="sd">    '''</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">'3d'</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="n">elev</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">azim</span><span class="o">=</span><span class="mi">160</span><span class="p">)</span>

    <span class="n">dist_max</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1e6</span>

    <span class="k">for</span> <span class="n">signal</span> <span class="ow">in</span> <span class="n">signals</span><span class="p">:</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignal</span><span class="p">)</span> <span class="p">:</span>
            <span class="n">trajectory</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignalLeap</span><span class="p">)</span> \
            <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignalGlove</span><span class="p">):</span>
            <span class="n">trajectory</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">trajectory</span>
            <span class="k">assert</span> <span class="n">trajectory</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">'Wong signal: </span><span class="si">%s</span><span class="s1">.'</span> <span class="o">%</span> <span class="n">signal</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

        <span class="n">tx</span> <span class="o">=</span> <span class="n">trajectory</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">ty</span> <span class="o">=</span> <span class="n">trajectory</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">tz</span> <span class="o">=</span> <span class="n">trajectory</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>

        <span class="n">tx_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
        <span class="n">tx_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
        <span class="n">ty_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">ty</span><span class="p">)</span>
        <span class="n">ty_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">ty</span><span class="p">)</span>
        <span class="n">tz_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">tz</span><span class="p">)</span>
        <span class="n">tz_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">tz</span><span class="p">)</span>

        <span class="n">dx</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">tx_max</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">tx_min</span><span class="p">))</span>
        <span class="n">dy</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ty_max</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ty_min</span><span class="p">))</span>
        <span class="n">dz</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">tz_max</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">tz_min</span><span class="p">))</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">,</span> <span class="n">dz</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dist</span> <span class="o">&gt;</span> <span class="n">dist_max</span><span class="p">:</span>
            <span class="n">dist_max</span> <span class="o">=</span> <span class="n">dist</span>

        <span class="n">l</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">,</span> <span class="n">tz</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

    <span class="n">lim</span> <span class="o">=</span> <span class="n">dist_max</span> <span class="o">*</span> <span class="mf">1.2</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_zlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'X'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'Y'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s1">'Z'</span><span class="p">)</span>

    <span class="c1">#plt.axis('equal')</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="fmsignal_vis.trajectory_animation">

<code class="highlight language-python"><span class="n">trajectory_animation</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">seg_length</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">show_hand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Animate the signal trajectory in 3D.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signal</code></td>
<td><code>FMSignal</code></td>
<td>
<p>The signal to be visualized.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>speed</code></td>
<td><code>float</code></td>
<td>
<p>Indicating the animation speed. "speed=1" is 1x.</p>
</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>seg_length</code></td>
<td><code>int</code></td>
<td>
<p>The animated segment length in number of samples.</p>
</td>
<td><code>-1</code></td>
</tr>
<tr>
<td><code>show_hand</code></td>
<td><code>bool</code></td>
<td>
<p>Indicating whether the hand geometry is shown.</p>
</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>None</code></td>
<td>
<p>No return value.</p>
</td>
</tr>
</tbody>
</table>
<p><strong>NOTE</strong>: The "speed" can be either a fraction number between 0 and 1, 
which means slow down, or integers greater than 1, which means speed up.
If it is greater than 1 and it is not an integer, it is rounded to the
closest integer.</p>
<details class="quote">
          <summary>Source code in <code>code_fmkit/fmsignal_vis.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">trajectory_animation</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">seg_length</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">show_hand</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">'''Animate the signal trajectory in 3D.</span>

<span class="sd">    Args:</span>

<span class="sd">        signal (FMSignal): The signal to be visualized.</span>
<span class="sd">        speed (float): Indicating the animation speed. "speed=1" is 1x.</span>
<span class="sd">        seg_length (int): The animated segment length in number of samples.</span>
<span class="sd">        show_hand (bool): Indicating whether the hand geometry is shown.</span>

<span class="sd">    Returns:</span>

<span class="sd">        None: No return value.</span>

<span class="sd">    **NOTE**: The "speed" can be either a fraction number between 0 and 1, </span>
<span class="sd">    which means slow down, or integers greater than 1, which means speed up.</span>
<span class="sd">    If it is greater than 1 and it is not an integer, it is rounded to the</span>
<span class="sd">    closest integer.</span>

<span class="sd">    '''</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignal</span><span class="p">)</span> <span class="p">:</span>
        <span class="n">trajectory</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignalLeap</span><span class="p">)</span> \
        <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignalGlove</span><span class="p">):</span>
        <span class="n">trajectory</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">trajectory</span>
        <span class="k">assert</span> <span class="n">trajectory</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">'Wong signal: </span><span class="si">%s</span><span class="s1">.'</span> <span class="o">%</span> <span class="n">signal</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

    <span class="n">matplotlib</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">'3d'</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="n">elev</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">azim</span><span class="o">=</span><span class="mi">160</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">trajectory</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">ty</span> <span class="o">=</span> <span class="n">trajectory</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">tz</span> <span class="o">=</span> <span class="n">trajectory</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>

    <span class="n">tx_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
    <span class="n">tx_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
    <span class="n">ty_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">ty</span><span class="p">)</span>
    <span class="n">ty_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">ty</span><span class="p">)</span>
    <span class="n">tz_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">tz</span><span class="p">)</span>
    <span class="n">tz_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">tz</span><span class="p">)</span>

    <span class="n">dx</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">tx_max</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">tx_min</span><span class="p">))</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ty_max</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ty_min</span><span class="p">))</span>
    <span class="n">dz</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">tz_max</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">tz_min</span><span class="p">))</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">,</span> <span class="n">dz</span><span class="p">)</span>
    <span class="n">lim</span> <span class="o">=</span> <span class="n">dist</span> <span class="o">*</span> <span class="mf">1.2</span>


    <span class="n">l</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">l</span><span class="p">):</span>

        <span class="c1"># speed up by subsampling</span>
        <span class="k">if</span> <span class="n">speed</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">%</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">speed</span><span class="p">))</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">seg_length</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="n">seg_length</span>
            <span class="k">if</span> <span class="n">s</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1">#         ax.plot(data[0:i, 0], data[0:i, 1], data[0:i, 2],</span>
<span class="c1">#                  color='k', markersize=0.2)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tx</span><span class="p">[</span><span class="n">s</span><span class="p">:</span><span class="n">i</span><span class="p">],</span> <span class="n">ty</span><span class="p">[</span><span class="n">s</span><span class="p">:</span><span class="n">i</span><span class="p">],</span> <span class="n">tz</span><span class="p">[</span><span class="n">s</span><span class="p">:</span><span class="n">i</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'k'</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignalLeap</span><span class="p">)</span> <span class="ow">and</span> <span class="n">show_hand</span><span class="p">:</span>
            <span class="n">plot_handgeo</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">signal</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_zlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'X'</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'Y'</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s1">'Z'</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">pause</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">pause</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">speed</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">pause</span><span class="p">(</span><span class="mf">0.02</span> <span class="o">/</span> <span class="n">speed</span><span class="p">)</span>

    <span class="n">matplotlib</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>



    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">,</span> <span class="n">tz</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'k'</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_zlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'X'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'Y'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s1">'Z'</span><span class="p">)</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="fmsignal_vis.trajectory_vis">

<code class="highlight language-python"><span class="n">trajectory_vis</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">show_local_axes</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Visualize the signal as the trajectory of a point in 3D.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signal</code></td>
<td><code>FMSignal</code></td>
<td>
<p>The signal to be visualized.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>show_local_axes</code></td>
<td><code>bool</code></td>
<td>
<p>Indicating whether the orientation is shown.</p>
</td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>interval</code></td>
<td><code>int</code></td>
<td>
<p>Indicating how many samples to plot the orientation 
            x-y-z axes once.</p>
</td>
<td><code>10</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>None</code></td>
<td>
<p>No return value.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>code_fmkit/fmsignal_vis.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">trajectory_vis</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">show_local_axes</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sd">'''Visualize the signal as the trajectory of a point in 3D.</span>

<span class="sd">    Args:</span>

<span class="sd">        signal (FMSignal): The signal to be visualized.</span>
<span class="sd">        show_local_axes (bool): Indicating whether the orientation is shown.</span>
<span class="sd">        interval (int): Indicating how many samples to plot the orientation </span>
<span class="sd">                        x-y-z axes once.</span>

<span class="sd">    Returns:</span>

<span class="sd">        None: No return value.</span>

<span class="sd">    '''</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignal</span><span class="p">)</span> <span class="p">:</span>
        <span class="n">trajectory</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">rotms</span><span class="p">,</span> <span class="n">_qs</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">get_orientation</span><span class="p">()</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignalLeap</span><span class="p">)</span> \
        <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">FMSignalGlove</span><span class="p">):</span>
        <span class="n">trajectory</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">trajectory</span>
        <span class="n">rotms</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">rotms</span>
        <span class="k">assert</span> <span class="n">trajectory</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">rotms</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">'Wong signal: </span><span class="si">%s</span><span class="s1">.'</span> <span class="o">%</span> <span class="n">signal</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">'3d'</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="n">elev</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">azim</span><span class="o">=</span><span class="mi">160</span><span class="p">)</span>

    <span class="n">tx</span> <span class="o">=</span> <span class="n">trajectory</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">ty</span> <span class="o">=</span> <span class="n">trajectory</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">tz</span> <span class="o">=</span> <span class="n">trajectory</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>

    <span class="n">tx_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
    <span class="n">tx_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
    <span class="n">ty_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">ty</span><span class="p">)</span>
    <span class="n">ty_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">ty</span><span class="p">)</span>
    <span class="n">tz_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">tz</span><span class="p">)</span>
    <span class="n">tz_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">tz</span><span class="p">)</span>

    <span class="n">dx</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">tx_max</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">tx_min</span><span class="p">))</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ty_max</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ty_min</span><span class="p">))</span>
    <span class="n">dz</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">tz_max</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">tz_min</span><span class="p">))</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">,</span> <span class="n">dz</span><span class="p">)</span>
    <span class="n">lim</span> <span class="o">=</span> <span class="n">dist</span> <span class="o">*</span> <span class="mf">1.2</span>

    <span class="n">l</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">length</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">,</span> <span class="n">tz</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'k'</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">show_local_axes</span><span class="p">:</span>



        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">interval</span><span class="p">):</span>

            <span class="n">R</span> <span class="o">=</span> <span class="n">rotms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">trajectory</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>

            <span class="n">plot_xyz_axes</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">lim</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">'w'</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_zlim</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="n">lim</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'X'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'Y'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s1">'Z'</span><span class="p">)</span>

    <span class="c1"># ax.zaxis.set_major_locator(plt.NullLocator())</span>
    <span class="c1"># ax.yaxis.set_major_locator(plt.NullLocator())</span>
    <span class="c1"># ax.xaxis.set_major_locator(plt.NullLocator())</span>

    <span class="c1"># ax.zaxis.set_major_formatter(plt.NullFormatter())</span>
    <span class="c1"># ax.yaxis.set_major_formatter(plt.NullFormatter())</span>
    <span class="c1"># ax.xaxis.set_major_formatter(plt.NullFormatter())</span>


    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../fmsignal-reference/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                fmsignal
              </div>
            </div>
          </a>
        
        
          <a href="../pyrotation-reference/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                pyrotation
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.53cc9318.min.js"></script>
      <script src="../assets/javascripts/bundle.e9c9f54f.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>